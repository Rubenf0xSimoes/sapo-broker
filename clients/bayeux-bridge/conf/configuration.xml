<bridge-configuration>
	<settings>
		<bridge port="8888" />
	</settings>
	<broker-clouds>
		<cloud cloud-name="cloud A" mapping="X">
			<agent hostname="127.0.0.1" port="3323" />
		</cloud>
		<!--<cloud cloud-name="cloud B" mapping="Y">
			<agent hostname="127.0.0.1" port="3423" />
			<agent hostname="127.0.0.2" port="3423" />
		</cloud> -->
	</broker-clouds>
	<mappings>
		<mapping-set set-name="X">
			<mapping channel="/topic/foo" subscription="/topic/foo" publication="/topic/foo" />
			<mapping channel="/topic/system" subscription="/system/.*" publication="" denyPublication="true" />
			<mapping channel="/topic/json" subscription="/topic/xml" publication="" denyPublication="true"  from-agent-transformation-class="pt.com.broker.bayeuxbridge.transformers.Xml2JsonTransformer" />
			<mapping channel="/topic/xml" subscription="" publication="/topic/xml" denySubscription="true" />
			
			<!-- <mapping channel="/topic/foo" subscription="/topic/foo" publication="/topic/foo" to-agent-transformation-class="pt.com.broker.bayeuxbridge.ToUpperMessageTransformer" from-agent-transformation-class="pt.com.broker.bayeuxbridge.ToUpperMessageTransformer" denyPublication="false" />-->
		</mapping-set>
		<mapping-set set-name="Y" include-set="X">
			<mapping channel="/topic/stats" subscription="/system/stats/.*" publication="/topic/dummy" denyPublication="true" />
		</mapping-set>
	</mappings>
</bridge-configuration>
